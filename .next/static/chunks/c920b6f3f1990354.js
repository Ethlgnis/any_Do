(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let s=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],87316)},69074,86536,e=>{"use strict";var s=e.i(75254);let a=(0,s.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>a],69074);let t=(0,s.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},27035,e=>{"use strict";var s=e.i(43476),a=e.i(63371),t=e.i(71645),l=e.i(94983),n=e.i(7233),c=e.i(69074),i=e.i(27612),d=e.i(86536),r=e.i(37727),o=e.i(87316),h=e.i(86311),m=e.i(84131);function x({chats:e,onAdd:a,onDelete:x,searchQuery:p}){let u,j,[N,v]=(0,t.useState)(!1),[y,C]=(0,t.useState)(null),[b,g]=(0,t.useState)({name:"",content:""}),f=(0,t.useRef)(null),k=e.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())||e.content.toLowerCase().includes(p.toLowerCase()));return(0,s.jsxs)("section",{className:"chats-section",children:[(0,s.jsxs)("div",{className:"section-header",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"section-title",children:"Chats"}),(0,s.jsxs)("p",{className:"section-subtitle",children:[k.length," conversations"]})]}),(0,s.jsxs)("button",{className:"btn btn-primary",onClick:()=>v(!0),children:[(0,s.jsx)(n.Plus,{size:18}),"Import Chat"]})]}),k.length>0?(0,s.jsx)("div",{className:"chats-grid",children:k.map((e,a)=>(0,s.jsxs)("div",{className:"chat-card stagger-item",style:{animationDelay:`${.05*a}s`},children:[(0,s.jsxs)("div",{className:"chat-card-header",children:[(0,s.jsx)("div",{className:"chat-icon",children:(0,s.jsx)(h.MessageSquare,{size:24})}),(0,s.jsxs)("div",{className:"chat-info",children:[(0,s.jsx)("h3",{className:"chat-name",children:e.name}),(0,s.jsxs)("span",{className:"chat-count",children:[e.messageCount," messages"]})]})]}),(0,s.jsxs)("p",{className:"chat-preview",children:[e.content.substring(0,150),"..."]}),(0,s.jsxs)("div",{className:"chat-card-footer",children:[(0,s.jsxs)("span",{className:"chat-date",children:[(0,s.jsx)(o.Calendar,{size:12}),(0,m.getRelativeTime)(e.addedAt)]}),(0,s.jsxs)("div",{className:"chat-actions",children:[(0,s.jsx)("button",{className:"action-btn",title:"View Chat",onClick:()=>C(e),children:(0,s.jsx)(d.Eye,{size:14})}),(0,s.jsx)("button",{className:"action-btn delete",title:"Delete",onClick:()=>x(e.id),children:(0,s.jsx)(i.Trash2,{size:14})})]})]})]},e.id))}):(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)(l.MessageCircle,{className:"empty-state-icon"}),(0,s.jsx)("h3",{className:"empty-state-title",children:"No chats imported"}),(0,s.jsx)("p",{className:"empty-state-text",children:"Import WhatsApp chat exports to view and search through old conversations"}),(0,s.jsxs)("button",{className:"btn btn-primary",onClick:()=>v(!0),children:[(0,s.jsx)(c.Upload,{size:18}),"Import Your First Chat"]})]}),N&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{className:"modal-title",children:"Import Chat"}),(0,s.jsx)("button",{className:"modal-close",onClick:()=>v(!1),children:(0,s.jsx)(r.X,{size:18})})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b.content.trim()&&(a({name:b.name||"Imported Chat",content:b.content}),g({name:"",content:""}),v(!1))},children:[(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"upload-zone",onClick:()=>f.current?.click(),children:[(0,s.jsx)(c.Upload,{size:32}),(0,s.jsx)("p",{children:"Click to upload a .txt chat export"}),(0,s.jsx)("span",{children:"or drag and drop"}),(0,s.jsx)("input",{ref:f,type:"file",accept:".txt",onChange:e=>{let s=e.target.files?.[0];if(s){let e=new FileReader;e.onload=e=>{g({name:s.name.replace(".txt",""),content:e.target?.result||""})},e.readAsText(s)}},hidden:!0})]}),(0,s.jsx)("div",{className:"divider",children:(0,s.jsx)("span",{children:"or paste chat text"})}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"chatName",children:"Chat Name"}),(0,s.jsx)("input",{id:"chatName",type:"text",className:"input",placeholder:"e.g., Family Group, John Doe",value:b.name,onChange:e=>g({...b,name:e.target.value})})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"chatContent",children:"Chat Content *"}),(0,s.jsx)("textarea",{id:"chatContent",className:"input textarea",placeholder:"Paste your WhatsApp chat export here...",rows:8,value:b.content,onChange:e=>g({...b,content:e.target.value}),required:!0})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>v(!1),children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,s.jsx)(l.MessageCircle,{size:16}),"Import Chat"]})]})]})]})}),y&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>C(null),children:(0,s.jsxs)("div",{className:"modal chat-viewer-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{className:"modal-title",children:y?.name}),(0,s.jsx)("button",{className:"modal-close",onClick:()=>C(null),children:(0,s.jsx)(r.X,{size:18})})]}),(0,s.jsx)("div",{className:"modal-body chat-viewer-body",children:(0,s.jsx)("div",{className:"chat-messages",children:(u=(y?.content).split("\n"),j="",u.map((e,a)=>{let t=(e=>{for(let s of[/^\[?(\d{1,2}\/\d{1,2}\/\d{2,4}),?\s*(\d{1,2}:\d{2}(?::\d{2})?(?:\s*[AP]M)?)\]?\s*-?\s*([^:]+):\s*(.+)$/i,/^(\d{1,2}\/\d{1,2}\/\d{2,4}),?\s*(\d{1,2}:\d{2}(?::\d{2})?)\s*-\s*([^:]+):\s*(.+)$/i]){let a=e.match(s);if(a)return{date:a[1],time:a[2],sender:a[3].trim(),message:a[4]}}return null})(e);if(t){let e=t.sender.toLowerCase().includes("you")||t.sender.toLowerCase().includes("me"),l=t.sender===j;return j=t.sender,(0,s.jsxs)("div",{className:`chat-bubble ${e?"sent":"received"} ${l?"same-sender":""}`,children:[!l&&(0,s.jsx)("span",{className:"chat-sender",children:t.sender}),(0,s.jsx)("p",{className:"chat-message",children:t.message}),(0,s.jsx)("span",{className:"chat-time",children:t.time})]},a)}return e.trim()?(0,s.jsx)("div",{className:"chat-system",children:e},a):null}))})})]})})]})}function p(){let{chats:e,handleChatAdd:t,handleChatDelete:l,searchQuery:n}=(0,a.useAppContext)();return(0,s.jsx)(x,{chats:e,onAdd:t,onDelete:l,searchQuery:n})}e.s(["default",()=>p],27035)}]);